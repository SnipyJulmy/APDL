transform def tf (x:int) -> float {
    val B : int = 3975
    val resistance : float = (float)(1023 - x) * 1000 / x
    val temperature : float = 1 / (log(resistance/1000) / B + 1 / 298.15) - 273.15
    return temperature
}

influxdb influxdb :
    ip 160.98.61.150
    port 8086
    database example

source arduino1 "uno" :
    ip 172.16.0.100
    mac 98:4F:EE:00:81:54
    input temp int from pin 1
    input lum int from pin 0
    send tf temp to influxdb each 1 m
    send lum to influxdb each 1 s

graph temp from influxdb :
    aggregate(10 s)(mean)
    plot lines
    unit celsius_degrees
    min -20
    max 40

graph lum from influxdb :
    aggregate(10 s)(mean)
    plot lines
    unit candela
    min 0
    max 200